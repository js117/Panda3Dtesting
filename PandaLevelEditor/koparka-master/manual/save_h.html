<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN""http://www.w3.org/TR/html4/strict.dtd">
<HEAD>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <META name="description" content="Koparka - Panda3D level editor by Wezu">
    <META name="Keywords" content="koparka, panda3d, p3d, level editor, wezu, gamedev, 3d, realtime">
    <META name="author" content="Grzegorz 'Wezu' Kalinski">
    <LINK rel="stylesheet" href="style.css" type="text/css" >
    <LINK rel="shortcut icon" href="img/favico.png" >
    <LINK rel="icon" type="image/png" href="img/favico.png" >
    <LINK href="css/lightbox.css" rel="stylesheet" />
    
    <TITLE>Koparka Manual - Panda3D level editor</TITLE>
</HEAD>

<BODY>
    <DIV id="navbar">
        <IMG src="img/wezu.png" alt="Made by Wezu"> 
        <H3>Table of contents:</H3>
        <OL class="nav">
            <LI>
                <LABEL class="collapse" for="_1">Getting Started</LABEL>
                <INPUT id="_1" type="checkbox">
                    <UL>
                        <LI class="nav"><A href="index.html">Introduction</A></LI>
                        <LI class="nav"><A href="history.html">History</A></LI>
                        <LI class="nav"><A href="requirements.html">Requirements</A></LI>
                        <LI class="nav"><A href="installation.html">Installation</A></LI>                    
                        <LI class="nav"><A href="overview.html">Interface overview</A></LI>
                    </UL>

            </LI>  
            <LI><LABEL class="collapse" for="_2">Heightmap paint mode</LABEL>
                <INPUT id="_2" type="checkbox">                
                    <UL>
                        <LI class="nav"><A href="h_brush.html">Controlling brushes</A></LI>
                        <LI class="nav"><A href="h_raise.html">Raise Terrain</A></LI>
                        <LI class="nav"><A href="h_lower.html">Lower Terrain</A></LI>
                        <LI class="nav"><A href="h_level.html">Level Terrain</A></LI>
                    </UL>
            </LI> 
            <LI><LABEL class="collapse" for="_3">Texture paint mode</LABEL>
                <INPUT id="_3" type="checkbox">
                    <UL>
                        <LI class="nav"><A href="t_brush.html">Controlling brushes</A></LI>
                        <LI class="nav"><A href="t_change.html">Changing textures</A></LI>
                        
                        <LI class="nav"><A href="t_custom.html">Custom textures</A></LI>
                    </UL>
            </LI> 
            <LI><LABEL class="collapse" for="_4">Grass paint mode</LABEL>
                <INPUT id="_4" type="checkbox">
                    <UL>
                        <LI class="nav"><A href="g_brush.html">Controlling brushes</A></LI>
                        <LI class="nav"><A href="g_change.html">Changing textures</A></LI>
                        
                        <LI class="nav"><A href="g_custom.html">Custom textures</A></LI>
                    </UL>
            </LI>    
            <LI><LABEL class="collapse" for="_5">Object place mode</LABEL>
                <INPUT id="_5" type="checkbox">
                    <UL>
                        <LI class="nav"><A href="obj_coll_mesh.html">Collision mesh</A></LI>
                        <LI class="nav"><A href="obj_single.html">Single objects</A></LI>
                        <LI class="nav"><A href="obj_multi.html">Multiple objects</A></LI>
                        <LI class="nav"><A href="obj_walls.html">Walls</A></LI>                    
                        <LI class="nav"><A href="obj_actors.html">Actors</A></LI>
                        <LI class="nav"><A href="obj_fx.html">Lights, collisions, particle</A></LI>
                        <LI class="nav"><A href="obj_pickup.html">Picking up objects</A></LI><LI class="nav"><A href="obj_custom.html">Custom assets</A></LI>
                    </UL>
            </LI> 
            <LI><LABEL class="collapse" for="_6">Paint Walkmap mode</LABEL>
                <INPUT id="_6" type="checkbox">
                    <UL>
                        <LI class="nav"><A href="w_map.html">Walkmap</A></LI>                        
                    </UL>
            </LI>
            <LI><LABEL class="collapse" for="_7">Map configuration</LABEL>
                <INPUT id="_7" type="checkbox">
                    <UL>
                        <LI class="nav"><A href="config_h2o.html">Water and Sky</A></LI>
                        <LI class="nav"><A href="config_ter.html">Terrain</A></LI>
                    </UL>
            </LI>    
            <LI><LABEL class="collapse" for="_8">Editor configuration</LABEL>
                <INPUT id="_8" type="checkbox">
                    <UL>
                        <LI class="nav"><A href="config_grid.html">Grid</A></LI>
                        <LI class="nav"><A href="config_time.html">Time of day</A></LI>
                        <LI class="nav"><A href="config_brush.html">Brush</A></LI>
                        <LI class="nav"><A href="config_file.html">Config file</A></LI>
                    </UL>
            </LI>
            <LI><LABEL class="collapse" for="_9">Saving and Loading</LABEL>
                <INPUT id="_9" type="checkbox" checked>
                    <UL>
                        <LI class="nav"><A href="save_h.html">&gt;Save/Load dialog</A></LI>                    
                    </UL>
            </LI>
        </OL>
    </DIV>
    <DIV id="top">        
        <A href="config_file.html" class="left">&lt;&lt;- PREVIOUS</A>    
        <H1>Saving/Loading a map</H1>
    </DIV> 
    <DIV id="main"> 
        <DIV class="img">
            <IMG src="img/screen18_small.png"> 
        </DIV>
        <H4>Save/Load dialog</H4> 
    <P>
    To save or load a map you need to click on the save/load icon:
        <DIV class="img">
            <IMG src="img/save.png"> 
        </DIV>
    </P>
    <P>    
    The data exported from the editor is in the form of multiple files stored in one folder (directory).  It is possible to change the names of the files exported, but it is advised to keep the default names and only change the name of the directory where the files will be saved – this will make loading files easier. 
    </P>
    <P>    
    It is not necessary to save (or load)  all of the files. You can select the files you want by clicking on the tick box next to the name of the file – a green tick indicated the file will be saved (loaded) and a red cross says it won’t be. 
    </P>    
    <H2>Heightmap</H2>
    <P>
    The heightmap is a single grayscale image, it is saved as a png file
    </P>
    <H2>Detailmap</H2>
    <P>
    The editor uses two detail maps, they are saved with a 0 and 1 suffix as RGB png images.
    </P>
    <H2>Grass</H2>
    <P>
    The grass map is a single rgb image saved as a png file.
    </P>
    <H2>Objects</H2>
    <P>
    Objects are saved to a json file. To be more specific the placement and properties of all the objects on the map are written to a dictionary (along with map specific configuration –water, sky, terrain) and serialized to the json file format.
    </P>
    <H2>Collision</H2>    
    <P>
    The collision mesh is saved as a egg file. It is arranged in a quad tree.
    </P>
    <H2>WalkMap</H2>
    <P>
    The walkmap is saved as a png image, the image is then used to construct and write out a PandAI navmesh (csv table)
    </P>
    <P>
    The editor ships with a sample level that can be examined and also used with the demo that also ships with the editor. Look for the sample level in the save/default1 directory and the demo in the demo.py script. 
    </P>
    <P>
    Keep in mind the demo is a proof of concept type of software, build from cannibalized pieces of code and should not be considered as a good example of writing code that uses data exported from the Koparka editor. Still… it works. 
    </P>
    </DIV>
</BODY>