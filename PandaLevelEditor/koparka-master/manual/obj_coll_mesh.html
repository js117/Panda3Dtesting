<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN""http://www.w3.org/TR/html4/strict.dtd">
<HEAD>
    <META http-equiv="Content-Type" content="text/html; charset=utf-8">
    <META name="description" content="Koparka - Panda3D level editor by Wezu">
    <META name="Keywords" content="koparka, panda3d, p3d, level editor, wezu, gamedev, 3d, realtime">
    <META name="author" content="Grzegorz 'Wezu' Kalinski">
    <LINK rel="stylesheet" href="style.css" type="text/css" >
    <LINK rel="shortcut icon" href="img/favico.png" >
    <LINK rel="icon" type="image/png" href="img/favico.png" >
    <LINK href="css/lightbox.css" rel="stylesheet" />
    
    <TITLE>Koparka Manual - Panda3D level editor</TITLE>
</HEAD>

<BODY>
    <DIV id="navbar">
        <IMG src="img/wezu.png" alt="Made by Wezu"> 
        <H3>Table of contents:</H3>
        <OL class="nav">
            <LI>
                <LABEL class="collapse" for="_1">Getting Started</LABEL>
                <INPUT id="_1" type="checkbox">
                    <UL>
                        <LI class="nav"><A href="index.html">Introduction</A></LI>
                        <LI class="nav"><A href="history.html">History</A></LI>
                        <LI class="nav"><A href="requirements.html">Requirements</A></LI>
                        <LI class="nav"><A href="installation.html">Installation</A></LI>                    
                        <LI class="nav"><A href="overview.html">Interface overview</A></LI>
                    </UL>

            </LI>  
            <LI><LABEL class="collapse" for="_2">Heightmap paint mode</LABEL>
                <INPUT id="_2" type="checkbox">                
                    <UL>
                        <LI class="nav"><A href="h_brush.html">Controlling brushes</A></LI>
                        <LI class="nav"><A href="h_raise.html">Raise Terrain</A></LI>
                        <LI class="nav"><A href="h_lower.html">Lower Terrain</A></LI>
                        <LI class="nav"><A href="h_level.html">Level Terrain</A></LI>
                    </UL>
            </LI> 
            <LI><LABEL class="collapse" for="_3">Texture paint mode</LABEL>
                <INPUT id="_3" type="checkbox">
                    <UL>
                        <LI class="nav"><A href="t_brush.html">Controlling brushes</A></LI>
                        <LI class="nav"><A href="t_change.html">Changing textures</A></LI>
                        
                        <LI class="nav"><A href="t_custom.html">Custom textures</A></LI>
                    </UL>
            </LI> 
            <LI><LABEL class="collapse" for="_4">Grass paint mode</LABEL>
                <INPUT id="_4" type="checkbox">
                    <UL>
                        <LI class="nav"><A href="g_brush.html">Controlling brushes</A></LI>
                        <LI class="nav"><A href="g_change.html">Changing textures</A></LI>
                        
                        <LI class="nav"><A href="g_custom.html">Custom textures</A></LI>
                    </UL>
            </LI>    
            <LI><LABEL class="collapse" for="_5">Object place mode</LABEL>
                <INPUT id="_5" type="checkbox" checked>
                    <UL>
                        <LI class="nav"><A href="obj_coll_mesh.html">&gt;Collision mesh</A></LI>
                        <LI class="nav"><A href="obj_single.html">Single objects</A></LI>
                        <LI class="nav"><A href="obj_multi.html">Multiple objects</A></LI>
                        <LI class="nav"><A href="obj_walls.html">Walls</A></LI>                    
                        <LI class="nav"><A href="obj_actors.html">Actors</A></LI>
                        <LI class="nav"><A href="obj_fx.html">Lights, collisions, particle</A></LI>
                        <LI class="nav"><A href="obj_pickup.html">Picking up objects</A></LI><LI class="nav"><A href="obj_custom.html">Custom assets</A></LI>
                    </UL>
            </LI> 
            <LI><LABEL class="collapse" for="_6">Paint Walkmap mode</LABEL>
                <INPUT id="_6" type="checkbox">
                    <UL>
                        <LI class="nav"><A href="w_map.html">Walkmap</A></LI>                        
                    </UL>
            </LI>
            <LI><LABEL class="collapse" for="_7">Map configuration</LABEL>
                <INPUT id="_7" type="checkbox">
                    <UL>
                        <LI class="nav"><A href="config_h2o.html">Water and Sky</A></LI>
                        <LI class="nav"><A href="config_ter.html">Terrain</A></LI>
                    </UL>
            </LI>    
            <LI><LABEL class="collapse" for="_8">Editor configuration</LABEL>
                <INPUT id="_8" type="checkbox">
                    <UL>
                        <LI class="nav"><A href="config_grid.html">Grid</A></LI>
                        <LI class="nav"><A href="config_time.html">Time of day</A></LI>
                        <LI class="nav"><A href="config_brush.html">Brush</A></LI>
                        <LI class="nav"><A href="config_file.html">Config file</A></LI>
                    </UL>
            </LI>
            <LI><LABEL class="collapse" for="_9">Saving and Loading</LABEL>
                <INPUT id="_9" type="checkbox">
                    <UL>
                        <LI class="nav"><A href="save_h.html">Save/Load dialog</A></LI>                    
                    </UL>
            </LI>
        </OL>
    </DIV>    
    <DIV id="top">        
        <A href="g_custom.html" class="left">&lt;&lt;- PREVIOUS</A>
         <A href="obj_single.html" class="right">NEXT -&gt;&gt;</A>        
        <H1>Collision Mesh</H1>
    </DIV> 
    <DIV id="main">    
    <P>
    The collision mesh is an important part of almost any (usable) map – it makes the terrain solid (tangible). In some scenarios the heightmap is enough to tell where the terrain begins, but because of the unique mesh used by the Koparka editor (non-uniform cellular triangles) there would always be some inaccuracy (and nobody likes to see an avatar floating above the terrain or walking knee deep in rock). 
    </P>
    <DIV class="img">
            <IMG src="img/mesh.png"> 
        </DIV>
    <H4>Mesh made from non-uniform cellular triangles</H4> 
    <P>
    The editor uses the collision mesh to place objects on the ground, without the need to manualy adjust the height (Z coordinate) of every object (but if the height of any object needs to be adjusted it still can be). 
    </P>
    <DIV class="img">
            <IMG src="img/screen3_small.png"> 
        </DIV>
    <H4>Entering Object mode for the first time</H4> 
    <P>
    When you first enter the Object Place mode, the editor will ask to generate a collision mesh. This process takes a few moments (minutes on weak hardware), but the resulting collision mesh is pre-optimized (arranged in a quad tree) and good enough to be used in production ready levels (if a better/different mesh is needed you can generate one with the use of the collisiongen.py script and optimize it with the octree.py script located in the tools folder).
    </P>
    <P>
    You should generate a collision mesh when you are satisfied with the shape of your terrain. The collision mesh will not be regenerated automatically if you change the shape of the terrain. 
    </P>
    <P>
    If you need to generate a new collision mesh you will need to use the Save/Load dialog and export the collision mesh – that is currently the only way  to generate a new collision mesh.   
     </P>
     <DIV class="img">
            <IMG src="img/screen18_small.png"> 
        </DIV>
    <H4>Save/Load dialog</H4> 
    </DIV>
</BODY>